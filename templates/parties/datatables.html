{% extends "base_generic.html" %}

{% block content %}

<h1>People</h1>

<table id="people_table" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Name</th>
            <th>Donated</th>
            <th>Collected</th>
            <th>Documents</th>
        </tr>
    </thead>
    <tbody>
{% for person in person_list %}
        <tr>
            <td><a href="{{ person.get_absolute_url}}">{{ person.display_name }}</a></td>
            <td>{{ person.donated_count }}</td>
            <td>{{ person.collected_count }}</td>
            <td>{{ person.documents_count }}</td>
        </tr>
{% endfor %}
    </tbody>
</table>

{% endblock content %}

{% block javascript %}

<script type="text/javascript" language="javascript" src="{{STATIC}}/datatables/js/jquery.dataTables.js"></script>

<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        var oTable = $('#people_table').dataTable( {
            "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
            "bLengthChange": false,
            "iDisplayLength": 20,
        "sScrollY": "600px",
        "bPaginate": false,
        "bScrollCollapse": true,
            "bStateSave": true,
            "oLanguage": {
                "sSearch": "Search all columns:"
            }

        } );
    });
</script>

{% endblock javascript %}